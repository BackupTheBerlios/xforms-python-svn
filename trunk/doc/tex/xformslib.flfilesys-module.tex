%
% API Documentation for API Documentation
% Module xformslib.flfilesys
%
% Generated by epydoc 3.0.1
% [Fri May 21 19:29:31 2010]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}|(}
\section{Module xformslib.flfilesys}

    \label{xformslib:flfilesys}

xforms-python's functions to manage files and directories.

Copyright (C) 2009, 2010  Luca Lazzaroni ``LukenShiro''
e-mail: <\href{mailto:lukenshiro@ngi.it}{lukenshiro@ngi.it}>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as
published by the Free Software Foundation, version 2.1 of the License.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU LGPL along with this
program. If not, see <\href{http://www.gnu.org/licenses/}{http://www.gnu.org/licenses/}>.

See CREDITS file to read acknowledgements and thanks to XForms,
ctypes and other developers.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Functions                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Functions}

    \label{xformslib:flfilesys:fl_get_dirlist}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_get\_dirlist \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_get\_dirlist}(\textit{dirname}, \textit{pattern}, \textit{rescan})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Gets a listing of specified directory.

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxx}

          \item[dirname]


name of directory
            {\it (type=str)}

          \item[pattern]


regular expression that is used to filter the directory entries
            {\it (type=str)}

          \item[rescan]


or non-zero (does a re-read)
            {\it (type=flag to request a re-read or not. Values 0 (no re-read))}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

an array of DirList class instances (pDirList) and number of
files (total number of entries in directory dirname that match the
pattern specified by pattern)
      {\it (type=pointer to xfdata.FL\_DIRLIST, int)}

      \end{quote}

\textbf{Notes:}
\begin{quote}
  \begin{itemize}

  \item
    \setlength{\parskip}{0.6ex}

e.g. pdirlist, nfiles = dirlistfl\_get\_dirlist(``/home'', ``\emph{.}'', 1)


  \item 
e.g. print pdirlist{[}1{]}.name


\end{itemize}

\end{quote}

\textbf{Attention:} 
API change from XForms - upstream was
fl\_get\_dirlist(directory, pattern, n, rescan)


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_set_dirlist_filter}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_set\_dirlist\_filter \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_set\_dirlist\_filter}(\textit{py\_DirFilter})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Changes the default filter by which file types are returned.
By default not all types of files are returned (only directories,
normal files and link files).

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxxxxxxx}

          \item[py\_DirFilter]


name referring to function (strname, inttype) -> (non-zero if is to
be included, 0 otherwise)
            {\it (type=python function used to filter types, returned value)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

old dirlist filter function
      {\it (type=xfdata.FL\_DIRLIST\_FILTER class instance)}

      \end{quote}

\textbf{Notes:}
\begin{quote}
  \begin{itemize}

  \item
    \setlength{\parskip}{0.6ex}

e.g. def dirfilter(fname, ftype)


  \item 
e.g. > return type == xfdata.FT\_DIR || return type ==     :note: e.g. > xfdata.FT\_FILE || return type == xfdata.FT\_SOCK ||     :note: e.g. > return type == xfdata.FT\_FIFO || return type ==     :note: e.g. > xfdata.FT\_LINK || return type == xfdata.FT\_BLK ||     :note: e.g. > return type == xfdata.FT\_CHR || return type ==     :note: e.g. > xfdata.FT\_OTHER


  \item 
e.g. olddirfiltfunc = fl\_set\_dirlist\_filter(dirfilter)


\end{itemize}

\end{quote}

\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_set_dirlist_sort}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_set\_dirlist\_sort \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_set\_dirlist\_sort}(\textit{method})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Changes the default sorting of files in directory. By default the
files returned are sorted alphabetically.

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxx}

          \item[method]


method of sorting. Values (from xfdata.py) FL\_NONE, FL\_ALPHASORT,
FL\_RALPHASORT, FL\_MTIMESORT, FL\_RMTIMESORT,  FL\_SIZESORT, FL\_RSIZESORT,
FL\_CASEALPHASORT, FL\_RCASEALPHASORT
            {\it (type=int)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

old sort method
      {\it (type=int)}

      \end{quote}

\textbf{Note:} 
e.g. num = fl\_set\_dirlist\_sort(xfdata.FL\_CASEALPHASORT)


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_set_dirlist_filterdir}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_set\_dirlist\_filterdir \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_set\_dirlist\_filterdir}(\textit{yesno})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}
%
\begin{description}
\item[{Change the filter to include the directories. By default directories}] \leavevmode 
are not subject to filtering.

\end{description}

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxx}

          \item[yesno]


flag to enable/disable directory filter. Values 1 (enabled) or 0
(disabled)
            {\it (type=int)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

old filter setting
      {\it (type=int)}

      \end{quote}

\textbf{Note:} 
e.g. olddirfilt = fl\_set\_dirlist\_filterdir(1)


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_free_dirlist}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_free\_dirlist \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_free\_dirlist}(\textit{pDirList})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Frees the list cache returned by fl\_get\_dirlist().

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxxx}

          \item[pDirList]


instance of DirList class
            {\it (type=pointer to xfdata.FL\_DirList)}

        \end{Ventry}

      \end{quote}

\textbf{Note:} 
e.g. fl\_free\_dirlist(pdirlist)


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_free_all_dirlist}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_free\_all\_dirlist \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_free\_all\_dirlist}()

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Frees all the list caches returned by fl\_get\_dirlist().

-{}-
\setlength{\parskip}{1ex}
\textbf{Note:} 
e.g. fl\_free\_all\_dirlist()


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_is_valid_dir}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_is\_valid\_dir \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_is\_valid\_dir}(\textit{dirname})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Checks if dirname is a valid name of a directory.

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxx}

          \item[dirname]


name of the directory to evaluate
            {\it (type=str)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

1 (if valid) or 0 (if invalid)
      {\it (type=int)}

      \end{quote}

\textbf{Note:} 
e.g. fl\_is\_valid\_dir(name) -> num.


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_fmtime}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_fmtime \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_fmtime}(\textit{fname})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Returns the modification time of a specified file.

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxx}

          \item[fname]


name of the file
            {\it (type=str)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

file modification time
      {\it (type=long\_pos)}

      \end{quote}

\textbf{Note:} 
e.g. fmtime = fl\_fmtime(``/home/user/somefile'')


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \label{xformslib:flfilesys:fl_fix_dirname}
    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}!xformslib.flfilesys.fl\_fix\_dirname \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{fl\_fix\_dirname}(\textit{dirname})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Fixes the name of a directory that has a relative path (``..'') in it.

-{}-
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxx}

          \item[dirname]


name of the directory to evaluate
            {\it (type=str)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

fixed directory name
      {\it (type=str)}

      \end{quote}

\textbf{Note:} 
e.g. newdirnam = fl\_fix\_dirname(``../../mydir/'')


\textbf{Status:} 
Tested + Doc + NoDemo = OK


    \end{boxedminipage}

    \index{xformslib \textit{(package)}!xformslib.flfilesys \textit{(module)}|)}
